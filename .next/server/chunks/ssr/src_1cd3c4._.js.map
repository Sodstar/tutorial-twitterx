{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sodstar/development/web/frontend/x/src/components/CreatePost.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/CreatePost.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/CreatePost.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/sodstar/development/web/frontend/x/src/components/CreatePost.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/CreatePost.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/CreatePost.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6Q,GAC1S,2CACA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///Users/sodstar/development/web/frontend/x/src/components/FollowButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/FollowButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/FollowButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///Users/sodstar/development/web/frontend/x/src/components/FollowButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/FollowButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/FollowButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+Q,GAC5S,6CACA"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/sodstar/development/web/frontend/x/src/components/WhoToFollow.tsx"],"sourcesContent":["import { getRandomUsers } from \"@/actions/user.action\";\nimport React from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\";\nimport Link from \"next/link\";\nimport { Avatar, AvatarImage } from \"./ui/avatar\";\nimport FollowButton from \"./FollowButton\";\n\nasync function WhoToFollow() {\n  const users = await getRandomUsers();\n  console.log(users);\n  if (users.length === 0) return null;\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Таньд санал болгох</CardTitle>\n      </CardHeader>\n      <CardContent>\n      <div className=\"space-y-4\">\n          {users.map((user) => (\n            <div key={user.id} className=\"flex gap-2 items-center justify-between \">\n              <div className=\"flex items-center gap-1\">\n                <Link href={`/profile/${user.username}`}>\n                  <Avatar>\n                    <AvatarImage src={user.image ?? \"/avatar.png\"} />\n                  </Avatar>\n                </Link>\n                <div className=\"text-xs\">\n                  <Link href={`/profile/${user.username}`} className=\"font-medium cursor-pointer\">\n                    {user.name}\n                  </Link>\n                  <p className=\"text-muted-foreground\">@{user.username}</p>\n                  <p className=\"text-muted-foreground\">{user._count.followers} followers</p>\n                </div>\n              </div>\n              <FollowButton userId={user.id} />\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default WhoToFollow;\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AACA;AACA;;;;;;;AAEA,eAAe;IACb,MAAM,QAAQ,MAAM,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;IACjC,QAAQ,GAAG,CAAC;IACZ,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;IAC/B,qBACE,8OAAC,gIAAA,CAAA,OAAI;;0BACH,8OAAC,gIAAA,CAAA,aAAU;0BACT,cAAA,8OAAC,gIAAA,CAAA,YAAS;8BAAC;;;;;;;;;;;0BAEb,8OAAC,gIAAA,CAAA,cAAW;0BACZ,cAAA,8OAAC;oBAAI,WAAU;8BACV,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;4BAAkB,WAAU;;8CAC3B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,4JAAA,CAAA,UAAI;4CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,QAAQ,EAAE;sDACrC,cAAA,8OAAC,kIAAA,CAAA,SAAM;0DACL,cAAA,8OAAC,kIAAA,CAAA,cAAW;oDAAC,KAAK,KAAK,KAAK,IAAI;;;;;;;;;;;;;;;;sDAGpC,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,4JAAA,CAAA,UAAI;oDAAC,MAAM,CAAC,SAAS,EAAE,KAAK,QAAQ,EAAE;oDAAE,WAAU;8DAChD,KAAK,IAAI;;;;;;8DAEZ,8OAAC;oDAAE,WAAU;;wDAAwB;wDAAE,KAAK,QAAQ;;;;;;;8DACpD,8OAAC;oDAAE,WAAU;;wDAAyB,KAAK,MAAM,CAAC,SAAS;wDAAC;;;;;;;;;;;;;;;;;;;8CAGhE,8OAAC,kIAAA,CAAA,UAAY;oCAAC,QAAQ,KAAK,EAAE;;;;;;;2BAfrB,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAsB7B;uCAEe"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///Users/sodstar/development/web/frontend/x/src/actions/post.action.tsx"],"sourcesContent":["\"use server\";\nimport prisma from \"@/lib/prisma\";\nimport { getDBUserID } from \"./user.action\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function createPost(content: string, imageUrl: string) {\n  try {\n    const userId = await getDBUserID();\n    // if (!userId) return {success:false, error:\"User not found\"};\n    if (!userId) return;\n\n    const post = await prisma.post.create({\n      data: {\n        content,\n        image: imageUrl, // directly write image\n        authorId: userId,\n      },\n    });\n\n    revalidatePath(\"/\"); //purge the cache for the home page\n    return {success:true, post}\n  } catch (error) {\n    console.error(error);\n    return {success:false, error:\"Failed to create post\"};\n  }\n}\n\nexport async function getPosts() {\n    try {\n      const posts = await prisma.post.findMany({\n        orderBy: {\n          createdAt: \"desc\",\n        },\n        include: {\n          author: {\n            select: {\n              id: true,\n              name: true,\n              image: true,\n              username: true,\n            },\n          },\n          comments: {\n            include: {\n              author: {\n                select: {\n                  id: true,\n                  username: true,\n                  image: true,\n                  name: true,\n                },\n              },\n            },\n            orderBy: {\n              createdAt: \"asc\",\n            },\n          },\n          likes: {\n            select: {\n              userId: true,\n            },\n          },\n          _count: {\n            select: {\n              likes: true,\n              comments: true,\n            },\n          },\n        },\n      });\n  \n      return posts;\n    } catch (error) {\n      console.log(\"Error in getPosts\", error);\n      throw new Error(\"Failed to fetch posts\");\n    }\n  }\n  "],"names":[],"mappings":";;;;;;AACA;AACA;AACA;;;;;;;AAEO,eAAe,uCAAQ,GAAR,WAAW,OAAe,EAAE,QAAgB;IAChE,IAAI;QACF,MAAM,SAAS,MAAM,CAAA,GAAA,iIAAA,CAAA,cAAW,AAAD;QAC/B,+DAA+D;QAC/D,IAAI,CAAC,QAAQ;QAEb,MAAM,OAAO,MAAM,oHAAA,CAAA,UAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACpC,MAAM;gBACJ;gBACA,OAAO;gBACP,UAAU;YACZ;QACF;QAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE,MAAM,mCAAmC;QACxD,OAAO;YAAC,SAAQ;YAAM;QAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;YAAC,SAAQ;YAAO,OAAM;QAAuB;IACtD;AACF;AAEO,eAAe,uCAAM,GAAN;IAClB,IAAI;QACF,MAAM,QAAQ,MAAM,oHAAA,CAAA,UAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACvC,SAAS;gBACP,WAAW;YACb;YACA,SAAS;gBACP,QAAQ;oBACN,QAAQ;wBACN,IAAI;wBACJ,MAAM;wBACN,OAAO;wBACP,UAAU;oBACZ;gBACF;gBACA,UAAU;oBACR,SAAS;wBACP,QAAQ;4BACN,QAAQ;gCACN,IAAI;gCACJ,UAAU;gCACV,OAAO;gCACP,MAAM;4BACR;wBACF;oBACF;oBACA,SAAS;wBACP,WAAW;oBACb;gBACF;gBACA,OAAO;oBACL,QAAQ;wBACN,QAAQ;oBACV;gBACF;gBACA,QAAQ;oBACN,QAAQ;wBACN,OAAO;wBACP,UAAU;oBACZ;gBACF;YACF;QACF;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC,qBAAqB;QACjC,MAAM,IAAI,MAAM;IAClB;AACF;;;IAvEoB;IAsBA;;AAtBA,+OAAA;AAsBA,+OAAA"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///Users/sodstar/development/web/frontend/x/src/components/PostCard.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { getPosts } from '@/actions/post.action'\nimport { useUser } from '@clerk/nextjs'\n\ntype Posts = Awaited<ReturnType<typeof getPosts>> //getPosts функцын буцаах утгын төрлийг (ReturnType) ашиглан тодорхойлогдож байна. Гэхдээ getPosts функц нь Promise буцаадаг тул Awaited ашиглан Promise-ын доторх утгын төрлийг гаргаж авч байна.\ntype Post = Posts[number]\n\nfunction PostCard({post,dbUserId}: {post: Post, dbUserId: string | null}) {\nconst {user} = useUser();\nconst [newComment, setNewComment] = useState(\"\");\nconst [isCommenting, setIsCommenting] = useState(false);\nconst [isLiking, setIsLiking] = useState(false);\nconst [isDeleting, setIsDeleting] = useState(false);\nconst [hasLiked,setHasLiked] = useState(false);\nconst [optimisticLikes,setOptimisticLikes] = useState(post._count.likes);\n\nconst handleLike = async () => {} \nconst handleDelete = async () => {}\n\n  return (\n    <div>PostCard</div>\n  )\n}\n\nexport default PostCard"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAKA,SAAS,SAAS,EAAC,IAAI,EAAC,QAAQ,EAAwC;IACxE,MAAM,EAAC,IAAI,EAAC,GAAG,CAAA,GAAA,+KAAA,CAAA,UAAO,AAAD;IACrB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,UAAS,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACxC,MAAM,CAAC,iBAAgB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,KAAK,MAAM,CAAC,KAAK;IAEvE,MAAM,aAAa,WAAa;IAChC,MAAM,eAAe,WAAa;IAEhC,qBACE,8OAAC;kBAAI;;;;;;AAET;uCAEe"}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 365, "column": 0}, "map": {"version":3,"sources":["file:///Users/sodstar/development/web/frontend/x/src/app/page.tsx"],"sourcesContent":["import { SignedOut, SignInButton, SignedIn, UserButton } from \"@clerk/nextjs\";\nimport Image from \"next/image\";\nimport { Button } from \"@/components/ui/button\";\nimport ModeToggle from \"@/components/ModeToggle\";\nimport { currentUser } from \"@clerk/nextjs/server\";\nimport CreatePost from \"@/components/CreatePost\";\nimport WhoToFollow from \"@/components/WhoToFollow\";\nimport { getPosts } from \"@/actions/post.action\";\nimport PostCard from \"@/components/PostCard\";\nimport { getDBUserID } from \"@/actions/user.action\";\n\nexport default async function Home() {\n  const user = await currentUser();\n  const posts = await getPosts();\n  const dbUserId = await getDBUserID();\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n      <div className=\"lg:col-span-6\">\n        {user ? <CreatePost /> : null}\n        <div className=\"space-y-6\">\n          {posts.map((post) => (\n            <PostCard key={post.id} post={post} dbUserId={dbUserId}>Hellow</PostCard>\n          ))}\n        </div>\n      </div>\n      <div className=\"hidden lg:block lg:col-span-4 sticky top-20\">\n        <WhoToFollow />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAKA;AACA;AACA;AACA;AACA;AALA;;;;;;;;AAOe,eAAe;IAC5B,MAAM,OAAO,MAAM,CAAA,GAAA,0LAAA,CAAA,cAAW,AAAD;IAC7B,MAAM,QAAQ,MAAM,CAAA,GAAA,iIAAA,CAAA,WAAQ,AAAD;IAC3B,MAAM,WAAW,MAAM,CAAA,GAAA,iIAAA,CAAA,cAAW,AAAD;IACjC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;oBACZ,qBAAO,8OAAC,gIAAA,CAAA,UAAU;;;;+BAAM;kCACzB,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,8HAAA,CAAA,UAAQ;gCAAe,MAAM;gCAAM,UAAU;0CAAU;+BAAzC,KAAK,EAAE;;;;;;;;;;;;;;;;0BAI5B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,iIAAA,CAAA,UAAW;;;;;;;;;;;;;;;;AAIpB"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}